"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[649],{35054:function(fe,z,s){s.r(z),s.d(z,{default:function(){return de}});var U=s(5574),f=s.n(U),D=s(97857),i=s.n(D),H=s(3552),p=s(12461),R=s(26713),G=s(65360),l=s(81579),K=s(71230),N=s(15746),h=s(69677),F=s(34041),O=s(71577),Y=s(68116),V=s(59652),v=s(67294),Q=s(15009),m=s.n(Q),W=s(99289),x=s.n(W),j=s(31324),X=function(){var u=x()(m()().mark(function t(n,a){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/outbound/list",i()({method:"GET",params:i()({},n)},a||{})));case 1:case"end":return r.stop()}},t)}));return function(n,a){return u.apply(this,arguments)}}();function k(u,t){return A.apply(this,arguments)}function A(){return A=x()(m()().mark(function u(t,n){return m()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,j.request)("/api/outbound/create_new",i()({method:"post",data:i()({},t)},n||{})));case 1:case"end":return c.stop()}},u)})),A.apply(this,arguments)}var q=function(){var u=x()(m()().mark(function t(){return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,j.request)("/api/outbound/get_types",{method:"GET"}));case 1:case"end":return a.stop()}},t)}));return function(){return u.apply(this,arguments)}}(),_=function(){var u=x()(m()().mark(function t(n,a){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/outbound/view",i()({method:"GET",params:i()({},n)},a||{})));case 1:case"end":return r.stop()}},t)}));return function(n,a){return u.apply(this,arguments)}}(),ee=function(){var u=x()(m()().mark(function t(n,a){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/outbound/disable",i()({method:"post",params:i()({},n)},a||{})));case 1:case"end":return r.stop()}},t)}));return function(n,a){return u.apply(this,arguments)}}(),y={getList:X,view:_,disable:ee,createNew:k,getAllOutboundType:q},te=s(19632),se=s.n(te),ne=s(85402),e=s(85893),ae=function(t){var n=(0,v.useState)(!1),a=f()(n,2),c=a[0],r=a[1],M=(0,v.useState)([]),g=f()(M,2),I=g[0],C=g[1],L=(0,v.useState)(),b=f()(L,2),T=b[0],S=b[1],P=l.Z.useForm(),$=f()(P,1),w=$[0],E=function(){w.submit()},d=function(){t.closeCreateModal()};(0,v.useEffect)(function(){y.getAllOutboundType().then(function(o){o.success&&C(o.data)})},[]);var Z=function(B){r(!0),y.createNew(i()({},B)).then(function(me){me&&(p.ZP.success("operate successfully!"),t.closeCreateModal(!0)),r(!1)})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ne.Z,{title:"Create New OutBound",visible:!0,onOk:E,confirmLoading:c,onCancel:d,children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)(l.Z,{form:w,name:"advanced_search",className:"ant-advanced-search-form",layout:"vertical",onFinish:Z,labelAlign:"right",children:[(0,e.jsx)(l.Z.Item,{name:"name",label:"Name (unique)",rules:[{required:!0,message:"Missing  Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"outboundType",label:"Outbound Type",rules:[{required:!0,message:"Missing Outbound Type"}],children:(0,e.jsx)(F.Z,{options:se()(I),style:{width:400},onChange:function(B){S(B)}})}),(0,e.jsx)(l.Z.Item,{name:"server",label:"Host Name",rules:[{required:!0,message:"Missing Host Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"port",label:"Port",rules:[{required:!0,message:"Missing Port"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"userName",label:"User Name",rules:[{required:!0,message:"Missing User Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Missing Password"}],children:(0,e.jsx)(h.Z.Password,{style:{width:400}})}),T==="JDBC"?(0,e.jsx)(l.Z.Item,{name:"jdbcType",label:"JDBC Type",rules:[{required:!0,message:"Missing JDBC Type"}],children:(0,e.jsx)(F.Z,{options:[{label:"Oracle",value:"Oracle"},{label:"Mysql",value:"Mysql"}],style:{width:400}})}):"",T==="KAFKA"?(0,e.jsx)(l.Z.Item,{name:"topic",label:"Topic Name",rules:[{required:!0,message:"Missing Topic Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}):"",(0,e.jsx)(l.Z.Item,{name:"properties",label:"Properties (key=value , Used to initialize Outbound )",children:(0,e.jsx)(h.Z.TextArea,{style:{width:400,height:200},showCount:!0,placeholder:"input other properties"})})]})})})})},re=ae,ue=function(t){y.view(i()({},t)).then(function(n){console.log(n),n.success&&p.ZP.success("start success!")}),p.ZP.success("operate successfully")},le=function(t){console.log(t),y.disable(i()({},t)).then(function(n){console.log(n),n.success&&p.ZP.success("operate successfully!")}),p.ZP.success("operate successfully")},J=function(t){console.log(t),p.ZP.success("Canceled")},oe=[{title:"Name",dataIndex:"name",key:"name",render:function(t){return(0,e.jsx)("a",{children:t})}},{title:"Type",dataIndex:"outboundType"},{title:"HostName",dataIndex:"hostName"},{title:"User Name",dataIndex:"userName"},{title:"Created Time",dataIndex:"createdTime"},{title:"Action",key:"action",render:function(t,n){return(0,e.jsxs)(R.Z,{size:"middle",children:[(0,e.jsx)(G.Z,{title:"Are you sure to start this flow?",onConfirm:function(){return ue(n)},onCancel:J,okText:"Yes",cancelText:"No",children:(0,e.jsx)("a",{href:"#",style:{fontSize:15},children:"View"})}),(0,e.jsx)(G.Z,{title:"Are you sure to start this flow?",onConfirm:function(){return le(n)},onCancel:J,okText:"Yes",cancelText:"No",children:(0,e.jsx)("a",{href:"#",style:{fontSize:15},children:"disable"})})]})}}],ie=function(){var t=l.Z.useForm(),n=f()(t,1),a=n[0],c=(0,v.useState)([]),r=f()(c,2),M=r[0],g=r[1],I=(0,v.useState)(!1),C=f()(I,2),L=C[0],b=C[1],T=(0,v.useState)([]),S=f()(T,2),P=S[0],$=S[1];(0,v.useEffect)(function(){y.getList().then(function(d){d.success&&g(d.data)}),y.getAllOutboundType().then(function(d){d.success&&$(d.data)})},[]);var w=function(Z){y.getList(Z).then(function(o){o.success&&g(o.data)})},E=function(Z){Z&&y.getList().then(function(o){o.success&&g(o.data)}),b(!1)};return(0,e.jsxs)(H._zJ,{children:[(0,e.jsxs)(V.Z,{style:{borderRadius:8},bodyStyle:{backgroundImage:"radial-gradient(circle at 97% 10%, #EBF2FF 0%, #F5F8FF 28%, #EBF1FF 124%)"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(l.Z,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:w,children:(0,e.jsxs)(K.Z,{gutter:24,children:[(0,e.jsx)(N.Z,{children:(0,e.jsx)(l.Z.Item,{name:"name",label:"Name",children:(0,e.jsx)(h.Z,{})})}),(0,e.jsx)(N.Z,{children:(0,e.jsx)(l.Z.Item,{name:"type",label:"Type",children:(0,e.jsx)(F.Z,{options:P,style:{width:150}})})}),(0,e.jsxs)(N.Z,{style:{textAlign:"left"},children:[(0,e.jsx)(O.Z,{type:"primary",htmlType:"submit",children:"Search"}),(0,e.jsx)(O.Z,{style:{marginLeft:10},type:"primary",onClick:function(){a.resetFields()},children:"Clear"}),(0,e.jsx)(O.Z,{style:{marginLeft:10},type:"primary",onClick:function(){b(!0)},children:"Create New"})]})]})})}),(0,e.jsx)("div",{style:{marginTop:20},children:(0,e.jsx)(Y.Z,{columns:oe,dataSource:M,pagination:!0})})]}),L&&(0,e.jsx)(re,{closeCreateModal:E})]})},ce=ie,de=ce}}]);
