"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[649],{35054:function(me,G,a){a.r(G),a.d(G,{default:function(){return de}});var D=a(5574),h=a.n(D),J=a(97857),c=a.n(J),U=a(3552),C=a(12461),z=a(26713),y=a(71577),H=a(65360),l=a(81579),R=a(71230),F=a(15746),f=a(69677),O=a(34041),K=a(68116),W=a(59652),v=a(67294),Y=a(15009),m=a.n(Y),Q=a(99289),x=a.n(Q),j=a(31324),V=function(){var u=x()(m()().mark(function t(s,n){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/outbound/list",c()({method:"GET",params:c()({},s)},n||{})));case 1:case"end":return r.stop()}},t)}));return function(s,n){return u.apply(this,arguments)}}();function X(u,t){return A.apply(this,arguments)}function A(){return A=x()(m()().mark(function u(t,s){return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,j.request)("/api/outbound/create_new",c()({method:"post",data:c()({},t)},s||{})));case 1:case"end":return o.stop()}},u)})),A.apply(this,arguments)}var k=function(){var u=x()(m()().mark(function t(){return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,j.request)("/api/outbound/get_types",{method:"GET"}));case 1:case"end":return n.stop()}},t)}));return function(){return u.apply(this,arguments)}}(),q=function(){var u=x()(m()().mark(function t(s,n){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/outbound/view",c()({method:"GET",params:c()({},s)},n||{})));case 1:case"end":return r.stop()}},t)}));return function(s,n){return u.apply(this,arguments)}}(),_=function(){var u=x()(m()().mark(function t(s,n){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/outbound/disable",c()({method:"post",params:c()({},s)},n||{})));case 1:case"end":return r.stop()}},t)}));return function(s,n){return u.apply(this,arguments)}}(),p={getList:V,view:q,disable:_,createNew:X,getAllOutboundType:k},ee=a(19632),te=a.n(ee),ae=a(85402),e=a(85893),se=function(t){var s=(0,v.useState)(!1),n=h()(s,2),o=n[0],r=n[1],M=(0,v.useState)([]),g=h()(M,2),I=g[0],T=g[1],L=(0,v.useState)(),b=h()(L,2),S=b[0],N=b[1],P=l.Z.useForm(),$=h()(P,1),w=$[0],E=function(){w.submit()},d=function(){t.closeCreateModal()};(0,v.useEffect)(function(){p.getAllOutboundType().then(function(i){i.success&&T(i.data)})},[]);var Z=function(B){r(!0),p.createNew(c()({},B)).then(function(ce){ce&&(C.ZP.success("operate successfully!"),t.closeCreateModal(!0)),r(!1)})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ae.Z,{title:"Create New OutBound",visible:!0,onOk:E,confirmLoading:o,onCancel:d,children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)(l.Z,{form:w,name:"advanced_search",className:"ant-advanced-search-form",layout:"vertical",onFinish:Z,labelAlign:"right",children:[(0,e.jsx)(l.Z.Item,{name:"name",label:"Name (unique)",rules:[{required:!0,message:"Missing  Name"}],children:(0,e.jsx)(f.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"outboundType",label:"Outbound Type",rules:[{required:!0,message:"Missing Outbound Type"}],children:(0,e.jsx)(O.Z,{options:te()(I),style:{width:400},onChange:function(B){N(B)}})}),(0,e.jsx)(l.Z.Item,{name:"server",label:"Host Name",rules:[{required:!0,message:"Missing Host Name"}],children:(0,e.jsx)(f.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"port",label:"Port",rules:[{required:!0,message:"Missing Port"}],children:(0,e.jsx)(f.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"userName",label:"User Name",rules:[{required:!0,message:"Missing User Name"}],children:(0,e.jsx)(f.Z,{style:{width:400}})}),(0,e.jsx)(l.Z.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Missing Password"}],children:(0,e.jsx)(f.Z.Password,{style:{width:400}})}),S==="JDBC"?(0,e.jsx)(l.Z.Item,{name:"jdbcType",label:"JDBC Type",rules:[{required:!0,message:"Missing JDBC Type"}],children:(0,e.jsx)(O.Z,{options:[{label:"Oracle",value:"Oracle"},{label:"Mysql",value:"Mysql"}],style:{width:400}})}):"",S==="KAFKA"?(0,e.jsx)(l.Z.Item,{name:"topic",label:"Topic Name",rules:[{required:!0,message:"Missing Topic Name"}],children:(0,e.jsx)(f.Z,{style:{width:400}})}):"",(0,e.jsx)(l.Z.Item,{name:"properties",label:"Properties (key=value , Used to initialize Outbound )",children:(0,e.jsx)(f.Z.TextArea,{style:{width:400,height:200},showCount:!0,placeholder:"input other properties"})}),(0,e.jsx)(y.Z,{type:"primary",children:"Test Connection"})]})})})})},ne=se,he=function(t){outboundApi.view(_objectSpread({},t)).then(function(s){console.log(s),s.success&&message.success("start success!")}),message.success("operate successfully")},re=function(t){console.log(t),p.disable(c()({},t)).then(function(s){console.log(s),s.success&&C.ZP.success("operate successfully!")})},ue=function(t){console.log(t),C.ZP.success("Canceled")},le=[{title:"Name",dataIndex:"name",key:"name",render:function(t){return(0,e.jsx)("a",{children:t})}},{title:"Type",dataIndex:"outboundType"},{title:"HostName",dataIndex:"hostName"},{title:"User Name",dataIndex:"userName"},{title:"Created Time",dataIndex:"createdTime"},{title:"Action",key:"action",render:function(t,s){return(0,e.jsxs)(z.Z,{size:"middle",children:[(0,e.jsx)(y.Z,{type:"primary",onClick:function(){C.ZP.success("Wait for the implementation !")},children:"Detail"}),(0,e.jsx)(H.Z,{title:"Are you sure to start this flow?",onConfirm:function(){return re(s)},onCancel:ue,okText:"Yes",cancelText:"No",children:(0,e.jsx)(y.Z,{type:"primary",children:"disable"})})]})}}],ie=function(){var t=l.Z.useForm(),s=h()(t,1),n=s[0],o=(0,v.useState)([]),r=h()(o,2),M=r[0],g=r[1],I=(0,v.useState)(!1),T=h()(I,2),L=T[0],b=T[1],S=(0,v.useState)([]),N=h()(S,2),P=N[0],$=N[1];(0,v.useEffect)(function(){p.getList().then(function(d){d.success&&g(d.data)}),p.getAllOutboundType().then(function(d){d.success&&$(d.data)})},[]);var w=function(Z){p.getList(Z).then(function(i){i.success&&g(i.data)})},E=function(Z){Z&&p.getList().then(function(i){i.success&&g(i.data)}),b(!1)};return(0,e.jsxs)(U._zJ,{children:[(0,e.jsxs)(W.Z,{style:{borderRadius:8},bodyStyle:{backgroundImage:"radial-gradient(circle at 97% 10%, #EBF2FF 0%, #F5F8FF 28%, #EBF1FF 124%)"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(l.Z,{form:n,name:"advanced_search",className:"ant-advanced-search-form",onFinish:w,children:(0,e.jsxs)(R.Z,{gutter:24,children:[(0,e.jsx)(F.Z,{children:(0,e.jsx)(l.Z.Item,{name:"name",label:"Name",children:(0,e.jsx)(f.Z,{})})}),(0,e.jsx)(F.Z,{children:(0,e.jsx)(l.Z.Item,{name:"type",label:"Type",children:(0,e.jsx)(O.Z,{options:P,style:{width:150}})})}),(0,e.jsxs)(F.Z,{style:{textAlign:"left"},children:[(0,e.jsx)(y.Z,{type:"primary",htmlType:"submit",children:"Search"}),(0,e.jsx)(y.Z,{style:{marginLeft:10},type:"primary",onClick:function(){n.resetFields()},children:"Clear"}),(0,e.jsx)(y.Z,{style:{marginLeft:10},type:"primary",onClick:function(){b(!0)},children:"Create New"})]})]})})}),(0,e.jsx)("div",{style:{marginTop:20},children:(0,e.jsx)(K.Z,{columns:le,dataSource:M,pagination:!0})})]}),L&&(0,e.jsx)(ne,{closeCreateModal:E})]})},oe=ie,de=oe}}]);
