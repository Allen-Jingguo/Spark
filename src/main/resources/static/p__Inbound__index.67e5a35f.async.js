"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[731],{46944:function(me,z,n){n.r(z),n.d(z,{default:function(){return de}});var D=n(5574),f=n.n(D),H=n(97857),u=n.n(H),R=n(3552),y=n(12461),K=n(26713),B=n(65360),i=n(81579),Y=n(71230),S=n(15746),h=n(69677),N=n(34041),F=n(71577),Q=n(68116),V=n(59652),p=n(67294),W=n(15009),m=n.n(W),X=n(99289),x=n.n(X),j=n(31324),k=function(){var l=x()(m()().mark(function t(s,a){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/inbound/list",u()({method:"GET",params:u()({},s)},a||{})));case 1:case"end":return r.stop()}},t)}));return function(s,a){return l.apply(this,arguments)}}();function q(l,t){return M.apply(this,arguments)}function M(){return M=x()(m()().mark(function l(t,s){return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,j.request)("/api/inbound/create_new",u()({method:"post",data:u()({},t)},s||{})));case 1:case"end":return d.stop()}},l)})),M.apply(this,arguments)}var _=function(){var l=x()(m()().mark(function t(){return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,j.request)("/api/inbound/get_types",{method:"GET"}));case 1:case"end":return a.stop()}},t)}));return function(){return l.apply(this,arguments)}}(),ee=function(){var l=x()(m()().mark(function t(s,a){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/inbound/view",u()({method:"GET",params:u()({},s)},a||{})));case 1:case"end":return r.stop()}},t)}));return function(s,a){return l.apply(this,arguments)}}(),te=function(){var l=x()(m()().mark(function t(s,a){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.request)("/api/inbound/disable",u()({method:"GET",params:u()({},s)},a||{})));case 1:case"end":return r.stop()}},t)}));return function(s,a){return l.apply(this,arguments)}}(),v={getList:k,view:ee,disable:te,createNew:q,getAllInboundType:_},ne=n(85402),A=n(29924),e=n(85893),se=function(t){var s=(0,p.useState)(!1),a=f()(s,2),d=a[0],r=a[1],L=(0,p.useState)([]),g=f()(L,2),P=g[0],T=g[1],E=(0,p.useState)(),b=f()(E,2),C=b[0],I=b[1],$=i.Z.useForm(),G=f()($,1),w=G[0],O=function(){w.submit()},c=function(){t.closeCreateModal()};(0,p.useEffect)(function(){v.getAllInboundType().then(function(o){o.success&&T(o.data)})},[]);var Z=function(U){r(!0),v.createNew(u()({},U)).then(function(ce){ce.success&&(y.ZP.success("operate successfully!"),t.closeCreateModal(!0)),r(!1)})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ne.Z,{title:"Create New Inbound",visible:!0,onOk:O,confirmLoading:d,onCancel:c,children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)(i.Z,{form:w,name:"advanced_search",className:"ant-advanced-search-form",layout:"vertical",onFinish:Z,labelAlign:"right",children:[(0,e.jsx)(i.Z.Item,{name:"name",label:"Name (unique)",rules:[{required:!0,message:"Missing  Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(i.Z.Item,{name:"inboundType",label:"Inbound Type",rules:[{required:!0,message:"Missing Outbound Type"}],children:(0,e.jsx)(N.Z,{options:P,style:{width:400},onChange:function(U){I(U)}})}),(0,e.jsx)(i.Z.Item,{name:"server",label:"Host Name",rules:[{required:!0,message:"Missing Host Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(i.Z.Item,{name:"port",label:"Port",rules:[{required:!0,message:"Missing Port"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(i.Z.Item,{name:"userName",label:"User Name",rules:[{required:!0,message:"Missing User Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}),(0,e.jsx)(i.Z.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Missing Password"}],children:(0,e.jsx)(h.Z.Password,{style:{width:400}})}),C==="JDBC"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Z.Item,{name:"jdbcType",label:"JDBC Type",rules:[{required:!0,message:"Missing JDBC Type"}],children:(0,e.jsx)(N.Z,{options:[{label:"Oracle",value:"Oracle"},{label:"Mysql",value:"Mysql"}],style:{width:400}})}),(0,e.jsx)(i.Z.Item,{name:"executeSql",label:"Execute sql (More SQL will be supported in the future)",rules:[{required:!0,message:"Missing User Name"}],children:(0,e.jsx)(h.Z.TextArea,{style:{width:400,height:150},showCount:!0,placeholder:"input other properties"})}),(0,e.jsx)(i.Z.Item,{name:"timer",label:"Execute Timer (More timers are supported in the future)",rules:[{required:!0,message:"Missing User Name"}],children:(0,e.jsxs)(A.ZP.Group,{children:[(0,e.jsx)(A.ZP,{value:"once",children:"once"}),(0,e.jsx)(A.ZP,{value:"loop",children:"loop"})]})})]}):"",C==="KAFKA"?(0,e.jsx)(i.Z.Item,{name:"topic",label:"Topic Name",rules:[{required:!0,message:"Missing Topic Name"}],children:(0,e.jsx)(h.Z,{style:{width:400}})}):"",(0,e.jsx)(i.Z.Item,{name:"properties",label:"Properties (key=value , Used to initialize inbound )",children:(0,e.jsx)(h.Z.TextArea,{style:{width:400,height:200},showCount:!0,placeholder:"input other properties"})})]})})})})},ae=se,re=function(t){v.view(u()({},t)).then(function(s){console.log(s),s&&y.ZP.success("start success!")}),y.ZP.success("operate successfully")},ie=function(t){console.log(t),v.disable(u()({},t)).then(function(s){console.log(s),s&&y.ZP.success("operate successfully!")}),y.ZP.success("operate successfully")},J=function(t){console.log(t),y.ZP.success("Canceled")},le=[{title:"Name",dataIndex:"name",key:"name",render:function(t){return(0,e.jsx)("a",{children:t})}},{title:"Type",dataIndex:"inboundType"},{title:"HostName",dataIndex:"hostName"},{title:"User Name",dataIndex:"userName"},{title:"Created Time",dataIndex:"createdTime"},{title:"Action",key:"action",render:function(t,s){return(0,e.jsxs)(K.Z,{size:"middle",children:[(0,e.jsx)(B.Z,{title:"Are you sure to start this flow?",onConfirm:function(){return re(s)},onCancel:J,okText:"Yes",cancelText:"No",children:(0,e.jsx)("a",{href:"#",style:{fontSize:15},children:"View"})}),(0,e.jsx)(B.Z,{title:"Are you sure to start this flow?",onConfirm:function(){return ie(s)},onCancel:J,okText:"Yes",cancelText:"No",children:(0,e.jsx)("a",{href:"#",style:{fontSize:15},children:"disable"})})]})}}],oe=function(){var t=i.Z.useForm(),s=f()(t,1),a=s[0],d=(0,p.useState)([]),r=f()(d,2),L=r[0],g=r[1],P=(0,p.useState)(!1),T=f()(P,2),E=T[0],b=T[1],C=(0,p.useState)([]),I=f()(C,2),$=I[0],G=I[1];(0,p.useEffect)(function(){v.getAllInboundType().then(function(c){c.success&&G(c.data)}),v.getList({}).then(function(c){c&&g(c.data)})},[]);var w=function(Z){v.getList(Z).then(function(o){o&&g(o.data)})},O=function(Z){Z&&v.getList({}).then(function(o){o&&g(o.data)}),b(!1)};return(0,e.jsxs)(R._zJ,{children:[(0,e.jsxs)(V.Z,{style:{borderRadius:8},bodyStyle:{backgroundImage:"radial-gradient(circle at 97% 10%, #EBF2FF 0%, #F5F8FF 28%, #EBF1FF 124%)"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(i.Z,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:w,children:(0,e.jsxs)(Y.Z,{gutter:24,children:[(0,e.jsx)(S.Z,{children:(0,e.jsx)(i.Z.Item,{name:"name",label:"Name",children:(0,e.jsx)(h.Z,{})})}),(0,e.jsx)(S.Z,{children:(0,e.jsx)(i.Z.Item,{name:"type",label:"Type",children:(0,e.jsx)(N.Z,{options:$,style:{width:150}})})}),(0,e.jsxs)(S.Z,{style:{textAlign:"left"},children:[(0,e.jsx)(F.Z,{type:"primary",htmlType:"submit",children:"Search"}),(0,e.jsx)(F.Z,{style:{marginLeft:10},type:"primary",onClick:function(){a.resetFields()},children:"Clear"}),(0,e.jsx)(F.Z,{style:{marginLeft:10},type:"primary",onClick:function(){b(!0)},children:"Create New"})]})]})})}),(0,e.jsx)("div",{style:{marginTop:20},children:(0,e.jsx)(Q.Z,{columns:le,dataSource:L,pagination:!0})})]}),E&&(0,e.jsx)(ae,{closeCreateModal:O})]})},ue=oe,de=ue}}]);
