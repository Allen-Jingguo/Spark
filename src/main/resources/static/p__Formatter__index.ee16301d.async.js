"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[802],{47396:function(ue,D,t){t.r(D),t.d(D,{default:function(){return oe}});var B=t(5574),f=t.n(B),$=t(97857),u=t.n($),E=t(3552),j=t(12461),J=t(26713),y=t(71577),P=t(65360),c=t(81579),G=t(71230),Z=t(15746),S=t(69677),I=t(34041),R=t(68116),z=t(59652),h=t(67294),K=t(15009),d=t.n(K),U=t(99289),g=t.n(U),x=t(31324),V=function(){var l=g()(d()().mark(function a(r,n){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,x.request)("/api/formatter/list",u()({method:"POST",data:u()({},r)},n||{})));case 1:case"end":return s.stop()}},a)}));return function(r,n){return l.apply(this,arguments)}}();function W(l,a){return b.apply(this,arguments)}function b(){return b=g()(d()().mark(function l(a,r){return d()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,x.request)("/api/formatter/create_new",u()({method:"post",data:u()({},a)},r||{})));case 1:case"end":return i.stop()}},l)})),b.apply(this,arguments)}var Y=function(){var l=g()(d()().mark(function a(){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,x.request)("/api/formatter/get_all_formatter_type",{method:"GET"}));case 1:case"end":return n.stop()}},a)}));return function(){return l.apply(this,arguments)}}(),H=function(){var l=g()(d()().mark(function a(r,n){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,x.request)("/api/formatter/view",u()({method:"GET",params:u()({},r)},n||{})));case 1:case"end":return s.stop()}},a)}));return function(r,n){return l.apply(this,arguments)}}(),Q=function(){var l=g()(d()().mark(function a(r,n){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,x.request)("/api/formatter/disable",u()({method:"GET",params:u()({},r)},n||{})));case 1:case"end":return s.stop()}},a)}));return function(r,n){return l.apply(this,arguments)}}(),p={getList:V,view:H,disable:Q,createNew:W,getAllFormatterType:Y},X=t(19632),k=t.n(X),q=t(85402),_=t(81961),e=t(85893),ee=function(a){var r=(0,h.useState)(!1),n=f()(r,2),i=n[0],s=n[1],A=(0,h.useState)([]),v=f()(A,2),L=v[0],F=v[1],w=c.Z.useForm(),N=f()(w,1),T=N[0],M=function(){T.submit()},m=function(){a.closeCreateModal()};(0,h.useEffect)(function(){p.getAllFormatterType().then(function(o){o.success&&F(o.data)})},[]);var C=function(O){s(!0),p.createNew(u()({},O)).then(function(ie){ie.success&&(j.ZP.success("operate successfully!"),a.closeCreateModal(!0)),s(!1)})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(q.Z,{title:"Create New Formatter",visible:!0,onOk:M,confirmLoading:i,onCancel:m,children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)(c.Z,{form:T,name:"advanced_search",className:"ant-advanced-search-form",layout:"vertical",onFinish:C,labelAlign:"right",children:[(0,e.jsx)(c.Z.Item,{name:"name",label:"Name (unique)",rules:[{required:!0,message:"Missing  Name"}],children:(0,e.jsx)(S.Z,{style:{width:400}})}),(0,e.jsx)(c.Z.Item,{name:"formatterType",label:"Formatter Type",rules:[{required:!0,message:"Missing Outbound Type"}],children:(0,e.jsx)(I.Z,{options:k()(L),style:{width:400},onChange:function(O){}})}),(0,e.jsx)(c.Z.Item,{name:"template",label:"Template ( Complex templates will be supported in the future )",children:(0,e.jsx)(S.Z.TextArea,{style:{width:400,height:200},showCount:!0,placeholder:"input  template text "})}),(0,e.jsx)(c.Z.Item,{label:"Upload Template",valuePropName:"fileList",children:(0,e.jsx)(_.Z,{action:"/api/formatter/upload",listType:"picture-card",children:(0,e.jsx)("div",{children:(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})})})})]})})})})},te=ee,ce=function(a){fomatterApi.view(_objectSpread({},a)).then(function(r){console.log(r),r&&message.success("start success!")}),message.success("operate successfully")},ae=function(a){console.log(a),p.disable(u()({},a)).then(function(r){console.log(r),r&&j.ZP.success("operate successfully!")})},re=function(a){console.log(a),j.ZP.success("Canceled")},ne=[{title:"Name",dataIndex:"name",key:"name",render:function(a){return(0,e.jsx)("a",{children:a})}},{title:"Type",dataIndex:"formatterType"},{title:"Created Time",dataIndex:"createdTime"},{title:"Action",key:"action",render:function(a,r){return(0,e.jsxs)(J.Z,{size:"middle",children:[(0,e.jsx)(y.Z,{type:"primary",onClick:function(){j.ZP.success("Wait for the implementation !")},children:"Detail"}),(0,e.jsx)(P.Z,{title:"Are you sure to start this flow?",onConfirm:function(){return ae(r)},onCancel:re,okText:"Yes",cancelText:"No",children:(0,e.jsx)(y.Z,{type:"primary",children:"disable"})})]})}}],de=[{key:"1",id:"1",name:"Ord  Extract Static Data Flow",inboundName:"Ord JDBC Inbound Name",parserName:"JDBCParser",filterName:"NA",keyMapperName:"KeyValueMapper",formatterName:"JDBCFormatter",outboundName:"WSS JDBC Oubound Name"},{key:"2",id:"2",name:"SDR Static Data Flow",inboundName:"SDR JDBC Inbound Name",parserName:"JDBCParser",filterName:"NA",keyMapperName:"KeyValueMapper",formatterName:"NA",outboundName:"Ord JDBC Oubound Name"}],se=function(){var a=c.Z.useForm(),r=f()(a,1),n=r[0],i=(0,h.useState)([]),s=f()(i,2),A=s[0],v=s[1],L=(0,h.useState)(!1),F=f()(L,2),w=F[0],N=F[1];(0,h.useEffect)(function(){p.getList().then(function(m){m.success&&v(m.data)})},[]);var T=function(C){p.getList(C).then(function(o){o.success&&v(o.data)})},M=function(C){C&&p.getList().then(function(o){o.success&&v(o.data)}),N(!1)};return(0,e.jsxs)(E._zJ,{children:[(0,e.jsxs)(z.Z,{style:{borderRadius:8},bodyStyle:{backgroundImage:"radial-gradient(circle at 97% 10%, #EBF2FF 0%, #F5F8FF 28%, #EBF1FF 124%)"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(c.Z,{form:n,name:"advanced_search",className:"ant-advanced-search-form",onFinish:T,children:(0,e.jsxs)(G.Z,{gutter:24,children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(c.Z.Item,{name:"name",label:"Name",children:(0,e.jsx)(S.Z,{})})}),(0,e.jsx)(Z.Z,{children:(0,e.jsx)(c.Z.Item,{name:"type",label:"Type",children:(0,e.jsx)(I.Z,{options:[{label:"Default",value:"default"},{label:"Transation",value:"Transation"}],style:{width:150}})})}),(0,e.jsxs)(Z.Z,{style:{textAlign:"left"},children:[(0,e.jsx)(y.Z,{type:"primary",htmlType:"submit",children:"Search"}),(0,e.jsx)(y.Z,{style:{marginLeft:10},type:"primary",onClick:function(){n.resetFields()},children:"Clear"}),(0,e.jsx)(y.Z,{style:{marginLeft:10},type:"primary",onClick:function(){N(!0)},children:"Create New"})]})]})})}),(0,e.jsx)("div",{style:{marginTop:20},children:(0,e.jsx)(R.Z,{columns:ne,dataSource:A,pagination:!0})})]}),w&&(0,e.jsx)(te,{closeCreateModal:M})]})},le=se,oe=le}}]);
